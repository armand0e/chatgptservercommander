Subject: [PATCH] More cleanup
Experimenting with giving specific file editing apis
---
Index: serverModules/firebaseDB.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/serverModules/firebaseDB.js b/serverModules/firebaseDB.js
new file mode 100644
--- /dev/null	(date 1711724522888)
+++ b/serverModules/firebaseDB.js	(date 1711724522888)
@@ -0,0 +1,36 @@
+const admin = require('firebase-admin');
+
+let db;
+const initDB = (serviceAccount) => {
+  admin.initializeApp({
+    credential: admin.credential.cert(serviceAccount)
+  });
+  db = admin.firestore();
+}
+
+const createAppInFirestore = async (appData) => {
+  const { name, description, externalResources, internalBlocks } = appData;
+  const privateId = generatePrivateId(); // Implement this function based on your requirements.
+
+  const newAppData = {
+    privateId: privateId,
+    name,
+    description,
+    externalResources,
+    internalBlocks,
+    createdAt: admin.firestore.FieldValue.serverTimestamp() // Store creation timestamp
+  };
+
+  const docRef = await db.collection('Apps').add(newAppData);
+  return { id: docRef.id, privateId: privateId };
+};
+
+function generatePrivateId() {
+  // Implement the logic to generate a unique public ID
+  return 'some-unique-string';
+}
+
+module.exports = {
+  createAppInFirestore,
+  initDB,
+};
